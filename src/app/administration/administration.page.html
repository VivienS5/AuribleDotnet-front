<ion-content [fullscreen]="true" class="ion-padding">
  <h1>Administration des Livres</h1>

  <h2>Ajouter un nouveau livre</h2>
  <form [formGroup]="addBookForm" (ngSubmit)="onSubmit()">
    <label for="title">Titre:</label>
    <input id="title" formControlName="title" type="text">
  
    <label for="resume">Résumé:</label>
    <textarea id="resume" formControlName="resume"></textarea>
  
    <label for="coverURL">URL de la couverture:</label>
    <input id="coverURL" formControlName="coverURL" type="text">

    <label for="maxPage">Nombre de pages max:</label>
    <input id="maxPage" formControlName="maxPage" type="number">
  
    <label for="author">Auteur:</label>
    <input id="author" formControlName="author" type="text">
  
    <button type="submit" [disabled]="addBookForm.invalid">Ajouter un livre</button>
  </form>
  
  <div *ngIf="successMessage" class="success-message">
    {{ successMessage }}
  </div>

  <h2>All Books</h2>
  <ion-list>
    <ion-item *ngFor="let book of books">
      <ion-thumbnail slot="start" class="thumbnail-container">
        <img [src]="book.coverURL" />
        <ion-icon name="play-back-circle-outline" class="play-icon"></ion-icon>
      </ion-thumbnail>
      <ion-label>
        <h3>{{ book.title }}</h3>
        <p>{{ book.author }}</p>
      </ion-label>
      <ion-button fill="clear" slot="end" (click)="navigateToEdit(book)">
        <ion-icon name="pencil"></ion-icon>
      </ion-button>
      <ion-button fill="clear" slot="end" color="danger" (click)="delete(book)">
        <ion-icon name="trash"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>
</ion-content>
